<!DOCTYPE html>
<html lang="en">
    <head>
 <script src="../renderjson.js"></script>
        <script src="../explorer-funcs.js"></script>
        <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script>
        <script type="text/javascript">
            if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {
                window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});
            }
        </script>
        <script>
            let js = loadJSON('metadata.json')
            $(function () {
              var includes = $('[data-include]')
              $.each(includes, function () {
                var file = $(this).data('include') + '.html'
                $(this).load(file)
              })
            })
            function updatePlotly (plotlyId) {
                $('#' + plotlyId).show();
                $('.hide').not('#' + plotlyId).hide();
            }
        </script>
        <meta charset="UTF-8">
        <title></title>
        <script>
            document.title = js['fname'];
        </script>
        <link rel="stylesheet" href="../explorer-style.css">
    </head>
    <body>
        <div class="image-window">
            <h1 id="head1"></h1>
            <script>
                document.getElementById('head1').innerHTML = formatTitle(js);
            </script>
            <h2>Figures:</h2>
            <button id="showswing" class="button" role="button" onclick=updatePlotly("plotly-swing")>Swing</button>
            <button id="showfeel" class="button" role="button" onclick=updatePlotly("plotly-feel")>Feel</button>
            <button id="showcomplexity" class="button" role="button" onclick=updatePlotly("plotly-complexity")>Complexity</button>
            <button id="showinteraction" class="button" role="button" onclick=updatePlotly("plotly-interaction")>Interaction</button>
            <button id="hideall" class="button" role="button" onclick=updatePlotly("none")>Hide all figures</button>
            <div class='hide' id='plotly-swing' style="display:none;" data-include="swing"  preserveAspectRatio="xMidYMid meet" viewBox="0 0 1880 700" width="100%" height="100%"></div>
            <div class='hide' id='plotly-feel' style="display:none;" data-include="feel"  preserveAspectRatio="xMidYMid meet" viewBox="0 0 1880 700" width="100%" height="100%"></div>
            <div class='hide' id='plotly-complexity' style="display:none;" data-include="complexity"  preserveAspectRatio="xMidYMid meet" viewBox="0 0 1880 700" width="100%" height="100%"></div>
            <div class='hide' id='plotly-interaction' style="display:none;" data-include="interaction"  preserveAspectRatio="xMidYMid meet" viewBox="0 0 1880 700" width="100%" height="100%"></div>
            <div id="imgdescription"><p id="imgdescription_"></p></div>
            <h2>YouTube player:</h2>
            <div class="video-container">
                <iframe id="ytplay" width=100% height=100% src=""></iframe>
                <script>
                    document.getElementById('ytplay').src = getYTLink(js);
                </script>
            </div>
            <h2>Track metadata:</h2>
            <p id="jsoncontainer">
                <script>
                    let cont = document.getElementById("jsoncontainer")
                    cont.appendChild(renderjson(js));
                </script>
            </p>
        </div>
    </body>
</html>